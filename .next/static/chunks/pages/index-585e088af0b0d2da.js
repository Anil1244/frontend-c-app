(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},6616:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var i=n(5893),c=n(7294),r=n(1163),t=n(1664),l=n.n(t),u=n(6490);let a=(0,u.eI)("https://muckyytxwzfrtlkiydjf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11Y2t5eXR4d3pmcnRsa2l5ZGpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM1NzI3ODEsImV4cCI6MjA0OTE0ODc4MX0.CQU74shD5wWhayd3LsVCRcEeI4rajGqYephPM0Odu_4");function o(e){let{session:s}=e,[n,t]=(0,c.useState)(null);return((0,r.useRouter)(),(0,c.useEffect)(()=>{(async function(){if(!s)return;let e=s.user,{data:n,error:i}=await a.from("users").select("role").eq("id",e.id).single();!i&&n&&t(n.role)})()},[s]),s)?(0,i.jsxs)("div",{className:"min-h-screen p-4",children:[(0,i.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Welcome, ",s.user.email]}),"admin"===n&&(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(l(),{href:"/admin",children:(0,i.jsx)("span",{className:"text-blue-600 underline cursor-pointer",children:"Go to Admin Dashboard"})})}),(0,i.jsx)("div",{children:(0,i.jsx)(l(),{href:"/projects",children:(0,i.jsx)("span",{className:"text-blue-600 underline cursor-pointer",children:"View My Projects"})})})]}):(0,i.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Welcome to Construction Calculator"}),(0,i.jsxs)("p",{className:"mb-4",children:["Please ",(0,i.jsx)(l(),{href:"/login",children:(0,i.jsx)("span",{className:"text-blue-600 cursor-pointer underline",children:"Login"})})," to continue."]})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);