(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5039:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return s(3145)}])},3145:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893),c=s(7294),r=s(7066),a=s(1664),l=s.n(a),i=s(1163);function d(e){let{session:t}=e,[s,a]=(0,c.useState)([]);async function d(){let e=localStorage.getItem("backend_token"),t=await r.Z.get("".concat("http://localhost:4000","/api/projects"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data)}return((0,i.useRouter)(),(0,c.useEffect)(()=>{t&&d()},[t]),t)?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h1",{className:"text-xl font-bold mb-4",children:"My Projects"}),(0,n.jsx)(l(),{href:"/projects/new",children:(0,n.jsx)("span",{className:"bg-blue-600 text-white px-4 py-2 rounded cursor-pointer inline-block mb-4",children:"Create New Project"})}),(0,n.jsxs)("table",{className:"min-w-full bg-white",children:[(0,n.jsx)("thead",{className:"bg-gray-200",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"p-2 text-left",children:"Project Name"}),(0,n.jsx)("th",{className:"p-2 text-left",children:"Project Address"}),(0,n.jsx)("th",{className:"p-2 text-left"})]})}),(0,n.jsx)("tbody",{children:s.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"p-2",children:e.project_name}),(0,n.jsx)("td",{className:"p-2",children:e.project_address}),(0,n.jsx)("td",{className:"p-2 space-x-2",children:(0,n.jsx)(l(),{href:"/projects/".concat(e.id),children:(0,n.jsx)("span",{className:"text-blue-600 underline cursor-pointer",children:"View/Edit"})})})]},e.id))})]})]}):(0,n.jsxs)("div",{children:["Please ",(0,n.jsx)(l(),{href:"/login",children:(0,n.jsx)("span",{className:"text-blue-600 underline",children:"login"})}),"."]})}}},function(e){e.O(0,[66,664,774,888,179],function(){return e(e.s=5039)}),_N_E=e.O()}]);